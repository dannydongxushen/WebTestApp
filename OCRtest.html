<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCRå›¾ç‰‡æ–‡å­—è¯†åˆ« - Netlifyä»£ç†ç‰ˆ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }
        
        .description {
            text-align: center;
            margin-bottom: 30px;
            color: #7f8c8d;
        }
        
        .upload-area {
            border: 2px dashed #3498db;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #f8fafc;
        }
        
        .upload-area:hover {
            background-color: #e8f4fc;
            border-color: #2980b9;
        }
        
        .upload-area i {
            font-size: 48px;
            color: #3498db;
            margin-bottom: 15px;
        }
        
        .upload-area p {
            margin: 10px 0;
        }
        
        #fileInput {
            display: none;
        }
        
        .preview-area {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .image-preview, .result-area {
            flex: 1;
            min-width: 300px;
        }
        
        .image-preview img {
            max-width: 100%;
            max-height: 400px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        h2 {
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.4rem;
            border-left: 4px solid #3498db;
            padding-left: 10px;
        }
        
        .result-area {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
        }
        
        #resultText {
            white-space: pre-wrap;
            line-height: 1.8;
        }
        
        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        #recognizeBtn {
            background: #3498db;
            color: white;
        }
        
        #recognizeBtn:hover:not(:disabled) {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        #resetBtn {
            background: #e74c3c;
            color: white;
        }
        
        #resetBtn:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            color: #e74c3c;
            background: #fde8e6;
            padding: 12px;
            border-radius: 6px;
            margin: 15px 0;
            display: none;
        }
        
        .success-message {
            color: #27ae60;
            background: #e6f7ee;
            padding: 12px;
            border-radius: 6px;
            margin: 15px 0;
            display: none;
        }
        
        .debug-area {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        
        .debug-area h3 {
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .debug-toggle {
            background: #34495e;
            color: #ecf0f1;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        
        .debug-toggle:hover {
            background: #3d566e;
        }
        
        .debug-line {
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .debug-timestamp {
            color: #7f8c8d;
            margin-right: 10px;
        }
        
        .debug-info {
            color: #3498db;
        }
        
        .debug-error {
            color: #e74c3c;
        }
        
        .debug-success {
            color: #2ecc71;
        }
        
        .instructions {
            background: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .instructions h3 {
            margin-bottom: 10px;
            color: #ff9800;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .proxy-info {
            background: #e8f4fc;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .proxy-info h3 {
            margin-bottom: 10px;
            color: #2980b9;
        }
        
        @media (max-width: 768px) {
            .preview-area {
                flex-direction: column;
            }
            
            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>OCRå›¾ç‰‡æ–‡å­—è¯†åˆ« - Netlifyä»£ç†ç‰ˆ</h1>
        <p class="description">é€šè¿‡Netlifyä»£ç†è°ƒç”¨æœ‰é“OCRæœåŠ¡ï¼Œè§£å†³CORSè·¨åŸŸé—®é¢˜</p>
        
        <div class="proxy-info">
            <h3>ä»£ç†é…ç½®è¯´æ˜</h3>
            <p>æ­¤é¡µé¢ä½¿ç”¨Netlify Edge Functionä»£ç†è¯·æ±‚ï¼Œè§£å†³äº†ç›´æ¥è°ƒç”¨æœ‰é“APIçš„CORSè·¨åŸŸé—®é¢˜ã€‚</p>
        </div>
        
        <div class="instructions">
            <h3>ä½¿ç”¨è¯´æ˜ï¼š</h3>
            <ul>
                <li>æ”¯æŒä¸Šä¼ JPGã€PNGã€BMPæ ¼å¼çš„å›¾ç‰‡</li>
                <li>å›¾ç‰‡å¤§å°å»ºè®®ä¸è¶…è¿‡2MB</li>
                <li>è¯†åˆ«ç»“æœæ”¯æŒä¸­è‹±æ–‡ç­‰å¤šç§è¯­è¨€</li>
                <li>è¯†åˆ«å®Œæˆåå¯å¤åˆ¶ç»“æœæ–‡æœ¬</li>
            </ul>
        </div>
        
        <div class="upload-area" id="uploadArea">
            <i>ğŸ“</i>
            <p>ç‚¹å‡»é€‰æ‹©å›¾ç‰‡æˆ–ç›´æ¥æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤å¤„</p>
            <p class="file-types">æ”¯æŒ JPG, PNG, BMP æ ¼å¼</p>
            <input type="file" id="fileInput" accept="image/jpeg, image/png, image/bmp">
        </div>
        
        <div class="error-message" id="errorMessage"></div>
        <div class="success-message" id="successMessage"></div>
        
        <button class="debug-toggle" id="debugToggle">æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯</button>
        <div class="debug-area" id="debugArea">
            <h3>è°ƒè¯•ä¿¡æ¯</h3>
            <div id="debugContent"></div>
        </div>
        
        <div class="preview-area">
            <div class="image-preview">
                <h2>å›¾ç‰‡é¢„è§ˆ</h2>
                <img id="previewImage" src="#" alt="é¢„è§ˆå›¾ç‰‡">
            </div>
            
            <div class="result-area">
                <h2>è¯†åˆ«ç»“æœ</h2>
                <div id="resultText">è¯†åˆ«ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
            </div>
        </div>
        
        <div class="loading" id="loadingIndicator">
            <div class="loading-spinner"></div>
            <p>æ­£åœ¨è¯†åˆ«ä¸­ï¼Œè¯·ç¨å€™...</p>
        </div>
        
        <div class="button-group">
            <button id="recognizeBtn" disabled>å¼€å§‹è¯†åˆ«</button>
            <button id="resetBtn">é‡ç½®</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è·å–DOMå…ƒç´ 
            const fileInput = document.getElementById('fileInput');
            const uploadArea = document.getElementById('uploadArea');
            const previewImage = document.getElementById('previewImage');
            const recognizeBtn = document.getElementById('recognizeBtn');
            const resetBtn = document.getElementById('resetBtn');
            const resultText = document.getElementById('resultText');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const debugToggle = document.getElementById('debugToggle');
            const debugArea = document.getElementById('debugArea');
            const debugContent = document.getElementById('debugContent');
            
            // åº”ç”¨é…ç½®
            const APP_ID = '68a7a31d629d52e4';
            const APP_KEY = 'Oa1fWMINWANBamI687S8HbWEc1Rtisn5';
            // ä½¿ç”¨Netlifyä»£ç†è·¯å¾„ï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨æœ‰é“API
            const PROXY_PATH = '/api/youdao';
            
            let currentImageFile = null;
            let debugVisible = false;
            
            // è°ƒè¯•ä¿¡æ¯è¾“å‡ºå‡½æ•°
            function addDebugMessage(message, type = 'info') {
                const timestamp = new Date().toLocaleTimeString();
                const debugLine = document.createElement('div');
                debugLine.className = 'debug-line';
                
                const timestampSpan = document.createElement('span');
                timestampSpan.className = 'debug-timestamp';
                timestampSpan.textContent = `[${timestamp}]`;
                
                const messageSpan = document.createElement('span');
                messageSpan.className = `debug-${type}`;
                messageSpan.textContent = message;
                
                debugLine.appendChild(timestampSpan);
                debugLine.appendChild(messageSpan);
                debugContent.appendChild(debugLine);
                
                // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
                debugArea.scrollTop = debugArea.scrollHeight;
            }
            
            // åˆ‡æ¢è°ƒè¯•ä¿¡æ¯æ˜¾ç¤º
            debugToggle.addEventListener('click', function() {
                debugVisible = !debugVisible;
                debugArea.style.display = debugVisible ? 'block' : 'none';
                debugToggle.textContent = debugVisible ? 'éšè—è°ƒè¯•ä¿¡æ¯' : 'æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯';
            });
            
            // ä¸Šä¼ åŒºåŸŸç‚¹å‡»äº‹ä»¶
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            // æ‹–æ”¾åŠŸèƒ½
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.style.backgroundColor = '#e8f4fc';
                uploadArea.style.borderColor = '#2980b9';
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.style.backgroundColor = '#f8fafc';
                uploadArea.style.borderColor = '#3498db';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.style.backgroundColor = '#f8fafc';
                uploadArea.style.borderColor = '#3498db';
                
                if (e.dataTransfer.files.length) {
                    handleImageFile(e.dataTransfer.files[0]);
                }
            });
            
            // æ–‡ä»¶é€‰æ‹©å˜åŒ–äº‹ä»¶
            fileInput.addEventListener('change', function() {
                if (fileInput.files.length) {
                    handleImageFile(fileInput.files[0]);
                }
            });
            
            // å¤„ç†å›¾ç‰‡æ–‡ä»¶
            function handleImageFile(file) {
                // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                const validTypes = ['image/jpeg', 'image/png', 'image/bmp'];
                if (!validTypes.includes(file.type)) {
                    showError('è¯·ä¸Šä¼ JPGã€PNGæˆ–BMPæ ¼å¼çš„å›¾ç‰‡æ–‡ä»¶');
                    addDebugMessage(`æ–‡ä»¶ç±»å‹é”™è¯¯: ${file.type}`, 'error');
                    return;
                }
                
                // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º2MBï¼‰
                if (file.size > 2 * 1024 * 1024) {
                    showError('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡2MB');
                    addDebugMessage(`æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶: ${(file.size / 1024 / 1024).toFixed(2)}MB`, 'error');
                    return;
                }
                
                currentImageFile = file;
                
                // æ˜¾ç¤ºå›¾ç‰‡é¢„è§ˆ
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    previewImage.style.display = 'block';
                    recognizeBtn.disabled = false;
                    hideError();
                    hideSuccess();
                    resultText.textContent = 'è¯†åˆ«ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
                    addDebugMessage(`å›¾ç‰‡åŠ è½½æˆåŠŸ: ${file.name} (${(file.size / 1024).toFixed(2)}KB)`, 'success');
                };
                reader.readAsDataURL(file);
            }
            
            // è¯†åˆ«æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            recognizeBtn.addEventListener('click', function() {
                if (!currentImageFile) {
                    showError('è¯·å…ˆé€‰æ‹©å›¾ç‰‡');
                    return;
                }
                
                recognizeText(currentImageFile);
            });
            
            // é‡ç½®æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            resetBtn.addEventListener('click', function() {
                resetAll();
            });
            
            // è°ƒç”¨OCR APIè¯†åˆ«æ–‡å­—
            async function recognizeText(imageFile) {
                showLoading();
                hideError();
                hideSuccess();
                addDebugMessage('å¼€å§‹OCRè¯†åˆ«è¿‡ç¨‹...', 'info');
                addDebugMessage(`ä½¿ç”¨Netlifyä»£ç†è·¯å¾„: ${PROXY_PATH}`, 'info');
                
                try {
                    // å°†å›¾ç‰‡è½¬æ¢ä¸ºBase64
                    addDebugMessage('æ­£åœ¨è½¬æ¢å›¾ç‰‡ä¸ºBase64...', 'info');
                    const base64Image = await fileToBase64(imageFile);
                    // å»æ‰Base64å‰ç¼€
                    const pureBase64 = base64Image.replace(/^data:image\/\w+;base64,/, '');
                    addDebugMessage(`Base64ç¼–ç å®Œæˆï¼Œé•¿åº¦: ${pureBase64.length}`, 'success');
                    
                    // å‡†å¤‡è¯·æ±‚å‚æ•°
                    const salt = generateUUID();
                    const curtime = Math.floor(Date.now() / 1000).toString();
                    const input = calculateInput(pureBase64);
                    const sign = await calculateSign(input, salt, curtime);
                    
                    addDebugMessage(`ç”Ÿæˆè¯·æ±‚å‚æ•° - Salt: ${salt}, Curtime: ${curtime}`, 'info');
                    
                    // æ„å»ºè¯·æ±‚ä½“
                    const requestBody = new URLSearchParams();
                    requestBody.append('img', pureBase64);
                    requestBody.append('langType', 'zh-CHS'); // ä¸­æ–‡è¯†åˆ«
                    requestBody.append('detectType', '10012');
                    requestBody.append('imageType', '1');
                    requestBody.append('appKey', APP_ID);
                    requestBody.append('salt', salt);
                    requestBody.append('sign', sign);
                    requestBody.append('docType', 'json');
                    requestBody.append('signType', 'v3');
                    requestBody.append('curtime', curtime);
                    requestBody.append('angle', '0'); // ä¸è¿›è¡Œè§’åº¦è¯†åˆ«
                    
                    addDebugMessage('å‘é€OCR APIè¯·æ±‚åˆ°Netlifyä»£ç†...', 'info');
                    addDebugMessage(`è¯·æ±‚è·¯å¾„: ${PROXY_PATH}`, 'info');
                    
                    // å‘é€APIè¯·æ±‚åˆ°Netlifyä»£ç†
                    const startTime = Date.now();
                    const response = await fetch(PROXY_PATH, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: requestBody
                    });
                    
                    const endTime = Date.now();
                    addDebugMessage(`APIå“åº”æ—¶é—´: ${endTime - startTime}ms`, 'info');
                    
                    if (!response.ok) {
                        throw new Error(`HTTPé”™è¯¯: ${response.status} ${response.statusText}`);
                    }
                    
                    addDebugMessage('APIè¯·æ±‚æˆåŠŸï¼Œè§£æå“åº”æ•°æ®...', 'success');
                    
                    const data = await response.json();
                    addDebugMessage(`APIå“åº”: ${JSON.stringify(data).substring(0, 200)}...`, 'info');
                    
                    // å¤„ç†APIå“åº”
                    if (data.errorCode === '0') {
                        // æå–è¯†åˆ«ç»“æœ
                        const text = extractTextFromOCRResult(data);
                        resultText.textContent = text;
                        showSuccess('æ–‡å­—è¯†åˆ«æˆåŠŸï¼');
                        addDebugMessage(`è¯†åˆ«æˆåŠŸï¼Œæå–åˆ° ${text.length} ä¸ªå­—ç¬¦`, 'success');
                    } else {
                        throw new Error(`APIè¿”å›é”™è¯¯: ${data.errorCode} - ${data.errorMsg || 'æœªçŸ¥é”™è¯¯'}`);
                    }
                    
                } catch (error) {
                    console.error('OCRè¯†åˆ«é”™è¯¯:', error);
                    addDebugMessage(`è¯†åˆ«é”™è¯¯: ${error.message}`, 'error');
                    showError(`è¯†åˆ«è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯: ${error.message}`);
                    
                    // æ·»åŠ æ›´å¤šè°ƒè¯•ä¿¡æ¯
                    if (error.name === 'TypeError' && error.message.includes('fetch')) {
                        addDebugMessage('è¿™å¯èƒ½æ˜¯å› ä¸ºä»£ç†è·¯å¾„é…ç½®ä¸æ­£ç¡®æˆ–ç½‘ç»œè¿æ¥é—®é¢˜', 'error');
                        addDebugMessage('è¯·æ£€æŸ¥Netlify Edge Functionæ˜¯å¦æ­£ç¡®éƒ¨ç½²', 'error');
                    }
                } finally {
                    hideLoading();
                }
            }
            
            // ä»OCRç»“æœä¸­æå–æ–‡æœ¬
            function extractTextFromOCRResult(ocrData) {
                let extractedText = '';
                
                if (ocrData.Result && ocrData.Result.regions) {
                    ocrData.Result.regions.forEach(region => {
                        if (region.lines) {
                            region.lines.forEach(line => {
                                if (line.text) {
                                    extractedText += line.text + '\n';
                                } else if (line.words) {
                                    line.words.forEach(word => {
                                        if (word.word) {
                                            extractedText += word.word;
                                        }
                                    });
                                    extractedText += '\n';
                                }
                            });
                        }
                    });
                }
                
                return extractedText || 'æœªè¯†åˆ«åˆ°æ–‡å­—å†…å®¹';
            }
            
            // å°†æ–‡ä»¶è½¬æ¢ä¸ºBase64
            function fileToBase64(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => resolve(reader.result);
                    reader.onerror = error => reject(error);
                    reader.readAsDataURL(file);
                });
            }
            
            // ç”ŸæˆUUID
            function generateUUID() {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0.8);
                    return v.toString(16);
                });
            }
            
            // è®¡ç®—inputå‚æ•°
            function calculateInput(base64Str) {
                if (base64Str.length <= 20) {
                    return base64Str;
                } else {
                    return base64Str.substring(0, 10) + base64Str.length + base64Str.substring(base64Str.length - 10);
                }
            }
            
            // è®¡ç®—ç­¾å
            async function calculateSign(input, salt, curtime) {
                const str = APP_ID + input + salt + curtime + APP_KEY;
                addDebugMessage(`ç­¾ååŸå§‹å­—ç¬¦ä¸²: ${APP_ID} + [input] + ${salt} + ${curtime} + [APP_KEY]`, 'info');
                
                // ä½¿ç”¨SHA256å“ˆå¸Œç®—æ³•
                const encoder = new TextEncoder();
                const data = encoder.encode(str);
                const hashBuffer = await crypto.subtle.digest('SHA-256', data);
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                
                addDebugMessage(`ç”Ÿæˆç­¾å: ${hashHex.substring(0, 16)}...`, 'info');
                return hashHex;
            }
            
            // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
            }
            
            // éšè—é”™è¯¯ä¿¡æ¯
            function hideError() {
                errorMessage.style.display = 'none';
            }
            
            // æ˜¾ç¤ºæˆåŠŸä¿¡æ¯
            function showSuccess(message) {
                successMessage.textContent = message;
                successMessage.style.display = 'block';
            }
            
            // éšè—æˆåŠŸä¿¡æ¯
            function hideSuccess() {
                successMessage.style.display = 'none';
            }
            
            // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
            function showLoading() {
                loadingIndicator.style.display = 'block';
                recognizeBtn.disabled = true;
            }
            
            // éšè—åŠ è½½æŒ‡ç¤ºå™¨
            function hideLoading() {
                loadingIndicator.style.display = 'none';
                recognizeBtn.disabled = false;
            }
            
            // é‡ç½®æ‰€æœ‰å†…å®¹
            function resetAll() {
                fileInput.value = '';
                previewImage.style.display = 'none';
                previewImage.src = '#';
                resultText.textContent = 'è¯†åˆ«ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
                recognizeBtn.disabled = true;
                currentImageFile = null;
                hideError();
                hideSuccess();
                addDebugMessage('ç³»ç»Ÿå·²é‡ç½®', 'info');
            }
            
            // åˆå§‹è°ƒè¯•ä¿¡æ¯
            addDebugMessage('OCRè¯†åˆ«ç³»ç»Ÿå·²åˆå§‹åŒ–', 'success');
            addDebugMessage(`åº”ç”¨ID: ${APP_ID.substring(0, 8)}...`, 'info');
            addDebugMessage(`ä½¿ç”¨Netlifyä»£ç†è·¯å¾„: ${PROXY_PATH}`, 'info');
            addDebugMessage('ç³»ç»Ÿå‡†å¤‡å°±ç»ªï¼Œå¯ä»¥ä¸Šä¼ å›¾ç‰‡è¿›è¡Œè¯†åˆ«', 'success');
        });
    </script>
</body>
</html>